<!-- 
    Access the JSON Data from an API:

    In the revious challenge, you saw how to get JSON data from the freeCodeCamp
    Cat Photo API. Now you'll take a closer look at the returned data to better
    understand the JSON format. Recall some notation in JavaScript:

    [ ] -> Square brackets represent an array
    { } -> Curly brackets represent an object
    " " -> Double quotes represent a string. They are also used for key names in
    JSON

    Understanding the structure of the data that an API returns is important
    because it influences how you retrieve the values you need.

    In the code bellow, the first and last character you see in the JSON data are
    square brackets. This means that the returned data is an array. The second 
    character is the JSON data is a curly bracket, which start an object. The JSON
    data is an array of three objects, where each object contains information about
    a cat photo:

    [
    {"id":0,"imageLink":"https://s3.amazonaws.com/freecodecamp/funny-cat.jpg","altText":"A white cat wearing a green, helmet shaped melon on its head. ","codeNames":["Juggernaut","Mrs. Wallace","Buttercup"]},
    {"id":1,"imageLink":"https://s3.amazonaws.com/freecodecamp/grumpy-cat.jpg","altText":"A white cat with blue eyes, looking very grumpy. ","codeNames":["Oscar","Scrooge","Tyrion"]},
    {"id":2,"imageLink":"https://s3.amazonaws.com/freecodecamp/mischievous-cat.jpg","altText":"A ginger cat with one eye closed and mouth in a grin-like expression. Looking very mischievous. ","codeNames":["The Doctor","Loki","Joker"]}
    ]

    You learned earlier the objects contain "key-value pairs" that are separated by
    commas. In the Cat Photo example, the first object has "id": 0 where "id" is a
    key and 0 is its corresponding value. Similarly, there are keys for
    "imageLink", "altText", and "CodeNames". Each cat photo object has these same
    keys, but with different values.

    Another interesting "key-value pair" in the first object is "codeNames": [
    "Juggernaut, "Mrs. Wallace", "ButterCup"]. Here "codeNames" is the key and its
    value is an array of three strings. It's possible to have arrays of objects
    as well as a key with an array as a value.

    Remember how to access data in arrays and objects. Arrays use bracket notation
    to access a specific index of an item. Objects use either bracket or dot
    notation to access the value of a given property. Here's an example that prints
    the "altText" of the first cat photo - note that the parsed JSON data in the
    editor is saves in a variable called 'json':

    console.log(json[0].altText);   // "A white cat wearing a green helmet..."
-->

<script>
    document.addEventListener('DOMContentLoaded',function(){
        
        document.getElementById('getMessage').onclick = function(){
            let req = new XMLHttpRequest();
            req.open("GET", '/json/cats.json', true);
            req.send();
            req.onload = function() {
                let json = JSON.parse(req.responseText);
                document.getElementsByClassName('message')[0].innerHTML=JSON.stringify(json);
            };
            console.log(json[2].codeNames[1]);
        };
        
    });
</script>

<style>
    body {
        text-align: center;
        font-family: "Helvetica", sans-serif;
    }
    h1 {
        font-size: 2em;
        font-weight: bold;
    }
    .box {
        border-radius: 5px;
        background-color: #eee;
        padding: 20px 5px;
    }
    button {
        color: white;
        background-color: #4791d0;
        border-radius: 5px;
        border: 1px solid #4791d0;
        padding: 5px 10px 8px 10px;
    }
    button:hover {
        background-color: #0F5897;
        border: 1px solid #0F5897;
    }
</style>

<body>
    <h1>Cat Photo Finder</h1> 
    <p class="message box">
        The message will go here
    </p>
    <p>
        <button id="getMessage">
            Get Message
        </button>
    </p>
</body>